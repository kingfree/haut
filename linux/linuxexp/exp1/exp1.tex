\documentclass[cs4size,a4paper,nofonts]{ctexart}
\usepackage[utf8]{inputenc}
\def\tjf{{\tt{田劲锋}}}
\def\titlec{实验一\quad 虚拟机上安装Linux系统}
\usepackage[a4paper,margin=2.2cm]{geometry} % 页面设置
\usepackage[unicode,breaklinks=true,
colorlinks=true,linkcolor=black,anchorcolor=black,citecolor=black,urlcolor=black,
pdftitle={\titlec},pdfauthor={\tjf}]{hyperref}
%\CTEXsetup[number=\chinese{section}, format={\large\sf\bfseries}]{section}
\usepackage{latexsym,amsmath,amssymb,bm}
\usepackage{graphicx}

\setmainfont{Times New Roman}
\setCJKmainfont[BoldFont={SimHei}]{SimSun}  % 主要字体：宋体、黑体
\setCJKsansfont[BoldFont={STZhongsong}]{STFangsong} % 次要字体：仿宋、中宋
\setCJKmonofont{STKaiti} % 等宽字体：楷体

\CJKsetecglue{\hspace{0.1em}}
\renewcommand\CJKglue{\hskip -0.3pt plus 0.08\baselineskip}
\frenchspacing
\widowpenalty=10000
\linespread{1.2} % 行距

\usepackage[inline]{enumitem} % 调整列表样式
\setlist{noitemsep}
\setlist[itemize]{topsep=0pt,partopsep=0pt,itemsep=0pt,parsep=0pt}
\setlist[enumerate]{topsep=0pt,partopsep=0pt,itemsep=0pt,parsep=0pt,label={(\arabic*)}}
\setlist[enumerate,2]{label*={.\arabic*}}

%\makeindex
\pagestyle{plain}

\begin{document}

%%%% 开始 %%%%

\title{\bf\titlec}
\author{软件工程1305班~\quad\tjf\quad~201316920311}
\date{2015~年~4~月~12~日}
\maketitle

{\bf 实验题目：}虚拟机上安装 Linux 系统

{\bf 实验目的：}了解虚拟机软件，掌握在虚拟机上安装 Linux 系统的方法。

{\bf 实验内容：}在虚拟机 VMware\footnote{这里我使用 Oracle VM VirtualBox。}上安装 Ubuntu Linux 系统；在虚拟机上使用和操作 Ubuntu Linux 系统。

{\bf 实验步骤：}（将安装过程按照步骤写出，并将安装过程的重要环节截图）

\newcommand{\image}[2]{\begin{minipage}[t]{0.5\textwidth}
\centering
\includegraphics[height=6cm]{images/#1.png}
\caption{#2}
\label{fig:#2}
\end{minipage}}

\begin{enumerate}

\item 首先到 Ubuntu 的官方网站（\url{http://www.ubuntu.org.cn}）下载最新版的系统安装光盘镜像文件，这里我选择了 Ubuntu Kylin 14.10 的 32 位版本，如图~\ref{fig:下载系统安装镜像}。

\item 要安装系统并截图，需要使用虚拟机软件，这里我使用的是 Oracle VM VirtualBox，宿主机是运行在 Intel 处理器上的 Windows 8.1 的 64 位版本。如图~\ref{fig:启动虚拟机}，我启动了虚拟机，可以看到，我已经在其中安装了 5 个虚拟的操作系统，分别用于不同的用途。

\begin{figure}[htp]
\image{Image-2015-04-13-19-27-13}{下载系统安装镜像}
\image{Image-2015-04-13-20-21-52}{启动虚拟机}
\end{figure}

\item 新建一个虚拟电脑，弹出如图~\ref{fig:新建虚拟电脑}~的对话框，这里我选择 Linux 类型，版本为 Ubuntu，虚拟机命名为“Ubuntu”。下一步是配置内存大小，如图~\ref{fig:内存大小}~，我采用了默认的 512MB。

\begin{figure}[htp]
\image{Image-2015-04-13-20-22-17}{新建虚拟电脑}
\image{Image-2015-04-13-20-22-28}{内存大小}
\end{figure}

\item 接下来要求创建虚拟硬盘，这里我创建了一个 20GB VDI 格式的动态分配虚拟硬盘，如图~\ref{fig:虚拟硬盘}--图~\ref{fig:文件位置和大小}~所示。

\begin{figure}[htp]
\image{Image-2015-04-13-20-22-34}{虚拟硬盘}
\image{Image-2015-04-13-20-22-43}{虚拟硬盘文件类型}
\end{figure}

\begin{figure}[htp]
\image{Image-2015-04-13-20-23-04}{存储在物理硬盘上}
\image{Image-2015-04-13-20-23-21}{文件位置和大小}
\end{figure}

\item 为了满足高版本 Ubuntu 图形界面的流畅运行，这里我特意配置了系统的显存和 3D 加速，如图~\ref{fig:显卡设置}。

\item 这时我们启动 Ubuntu 的虚拟机，由于没有写引导，虚拟机软件会提示选择启动盘（如图~\ref{fig:选择启动盘}），这里我选择刚刚下载的镜像文件（如图~\ref{fig:选择虚拟光盘文件}）。

\begin{figure}[htp]
\image{Image-2015-04-13-20-27-18}{显卡设置}
\image{Image-2015-04-13-20-24-01}{启动Ubuntu}
\end{figure}

\begin{figure}[htp]
\image{Image-2015-04-13-20-24-06}{选择启动盘}
\image{Image-2015-04-13-20-25-10}{选择虚拟光盘文件}
\end{figure}

\item 鼠标键盘被虚拟机捕获后，在等待界面按下任意键，显示出如图~\ref{fig:启动安装选项}~的启动安装选项。由于我的宿主机配置并不高，所以选择“安装 Ubuntu Kylin”而不是“试用 Ubuntu Kylin 而不安装”（虽然这在旧版本的 Ubuntu 上可以流畅运行）。同样由于配置低的缘故，可以看到启动闪屏也是文字界面而非图形渲染，如图~\ref{fig:启动闪屏}。

\begin{figure}[htp]
\image{Image-2015-04-13-20-35-19}{启动安装选项}
\image{Image-2015-04-13-21-36-46}{启动闪屏}
\end{figure}

\item 等待一段时间后终于进入安装界面，首先是选择语言，这里我选择默认的“中文（简体）”，如图~\ref{fig:欢迎：选择语言}。

\item 安装程序检测硬件和网络环境后，提示如图~\ref{fig:准备安装 Ubuntu Kylin}。因为这是一个演示系统，所以我们不安装附加的用于播放 MP3 和 Flash 等的专有解码器，也不另外下载安装系统更新，这需要额外占用安装时间和系统资源。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-37-09}{欢迎：选择语言}
\image{Ubuntu-2015-04-13-20-38-06}{准备安装 Ubuntu Kylin}
\end{figure}

\item 如图~\ref{fig:安装类型}~我选择自定义硬盘分区。按通常的习惯，我建立了三个分区：10 GB 的根分区（\verb|/|）、10 GB 主分区（\verb|/home|）和约 1 GB 的交换分区，并且写引导到本地磁盘。图~\ref{fig:空的分区表}--图~\ref{fig:确认写入磁盘}~展示了具体的分区过程。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-38-43}{安装类型}
\image{Ubuntu-2015-04-13-20-39-23}{空的分区表}
\end{figure}

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-39-47}{新建分区表}
\image{Ubuntu-2015-04-13-20-40-34}{建立根分区}
\end{figure}

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-41-13}{建立主分区}
\image{Ubuntu-2015-04-13-20-41-39}{建立交换分区}
\end{figure}

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-42-00}{现在安装}
\image{Ubuntu-2015-04-13-20-42-16}{确认写入磁盘}
\end{figure}

\item 分区之后，系统开始安装，这时可以做一些不影响安装的配置操作。如选择地区（图~\ref{fig:选择地区}）、键盘布局（图~\ref{fig:选择键盘布局}），以及设置主机名、用户名和密码（图~\ref{fig:设置用户信息}）。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-42-58}{选择地区}
\image{Ubuntu-2015-04-13-20-43-23}{选择键盘布局}
\end{figure}

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-20-44-00}{设置用户信息}
\image{Ubuntu-2015-04-13-20-44-40}{正在复制文件}
\end{figure}

\item 配置完成后显示安装进度，如图~\ref{fig:正在复制文件}~和图~\ref{fig:正在下载}~。在等待了约 20 min 之后，安装程序提示安装完成，如图~\ref{fig:安装完成}~重启系统。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-21-00-44}{正在下载}
\image{Ubuntu-2015-04-13-21-11-50}{安装完成}
\end{figure}

\item 再次启动即可进入安装好的系统，可以看到漂亮的 Ubuntu Kylin 启动闪屏，就像图~\ref{fig:Ubuntu Kylin 启动闪屏}~那样炫酷。

\item 之后进入登录界面，如图~\ref{fig:登录}，选择用户名并输入密码登入系统桌面。

\begin{figure}[htp]
%\image{Ubuntu-2015-04-13-21-13-41}{Grub 2 启动菜单}
\image{Ubuntu-2015-04-13-21-14-17}{Ubuntu Kylin 启动闪屏}
\image{Ubuntu-2015-04-13-21-15-51}{登录}
\end{figure}

\clearpage

\item 首次进入桌面有些卡顿，右下角弹出建议安装软件的对话框，如图~\ref{fig:首次进入桌面}，它推荐我们安装 WPS 办公套件、搜狗拼音输入法和快盘，这里我并不需要，将其关闭。

\item 如图~\ref{fig:关于这台计算机}，我尝试查看了系统信息。我尝试打开了终端，输入 \verb|top| 查看当前运行的进程列表，如图~\ref{fig:系统进程占用}，这里可以看到处理图形界面的进程占用了大量 CPU 和内存资源。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-21-19-37}{首次进入桌面}
\image{Ubuntu-2015-04-13-21-20-22}{关于这台计算机}
\end{figure}

\item 最后我们关闭计算机，如图~\ref{fig:关机}。

\begin{figure}[htp]
\image{Ubuntu-2015-04-13-21-21-16}{系统进程占用}
\image{Ubuntu-2015-04-13-21-21-53}{关机}
\end{figure}

\end{enumerate}

\section*{实验体会}

Linux 桌面操作系统，尤其是由 Ubuntu 领导的 Debian 系发行版的流行，近年来为 Linux 争取到了大量用户。然而自从 Unity 以及 Gnome 3 的出现，Ubuntu 的图形界面变得越来越慢且难于使用。Ubuntu Kylin 的发行更是以一种不伦不类的形式进入了中国市场。反倒 Linux Deepin 在图形界面上狠下功夫，做得越来越好了。不过由于 X Window 的本质设计问题，Linux 的 GUI 一直都不怎样，加上应用软件开发商不愿意为 Linux 开发优质的商业软件（如 QQ），Linux 并不适合桌面应用。但是 Linux 的强大命令行是毋庸置疑的。

这次安装 Ubuntu 的最新版花了不少时间，一个是安装包过大下载了很久，一个是安装启动过程非常缓慢和卡顿。虽然缺点仍不少，但也不能忽视这几年 Ubuntu 的进步。

\end{document}
