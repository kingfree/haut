\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}
\newcommand{\tabincelll}[3]{\begin{tabular*}{#1}{@{}#2@{}}#3\end{tabular*}}
\renewcommand{\tabularxcolumn}[1]{m{#1}}
\newcommand{\vil}{\,\vline \hspace{.5em} }


\newcommand{\des}[2]{\makebox[2em][s]{\bf #1}\quad #2}
\newcommand{\function}[5]{\CTEXnoindent\vspace{1em}\par
\begin{minipage}{\textwidth}
    \underline{\makebox[\textwidth][l]{\it{#1}}}\\
    {\tt {{#3}} {\bfseries #1}(#2);}\\
    \des{返回}{#4}\\
    \des{描述}{#5}
\end{minipage}\par
\CTEXindent}

\newcommand\pictext{\linespread{1}\centering}

\makeatletter
\lst@Key{matchrangestart}{f}{\lstKV@SetIf{#1}\lst@ifmatchrangestart}
\def\lst@SkipToFirst{%
    \lst@ifmatchrangestart\c@lstnumber=\numexpr-1+\lst@firstline\fi
    \ifnum \lst@lineno<\lst@firstline
        \def\lst@next{\lst@BeginDropInput\lst@Pmode
        \lst@Let{13}\lst@MSkipToFirst
        \lst@Let{10}\lst@MSkipToFirst}%
        \expandafter\lst@next
    \else
        \expandafter\lst@BOLGobble
    \fi}
\makeatother

\lstset{language=C,
  numbers=left,
  matchrangestart=t,
  numberstyle=\tiny,
  basicstyle=\zihao{6}\tt,
  commentstyle=\color{gray},
  keywordstyle=\bfseries\color{blue!60!black},
  stringstyle=\color{red!80!black},
  showstringspaces=false,
  % frame=trBL,
  % morekeywords=[1]{cout,cin,cerr,std,stdin,printf,scanf,perror},
  % keywordstyle=[1]{\color{blue}},
  % morekeywords=[2]{Score,Number,UI,string,vector,ifstream,ofstream,pair},
  % keywordstyle=[2]{\color{teal}},
}

\lstdefinelanguage
   [x64]{Assembler}     % add a "x64" dialect of Assembler
   [x86masm]{Assembler} % based on the "x86masm" dialect
   % with these extra keywords:
   {morekeywords={RAX,RBX,RCX,RDX,RIP,RDI,RSI,RSP,SUBQ,DECL,MOVQ,MOVL,XORL,IMULL,POPQ,LEAQ,PUSHQ,%
   CALLQ,MOVB,ADDL,RETQ,RBP,R8D,ADDQ,IRETD,RESB,ALIGNB,GLOBAL,EXTERN,RESB}%
} %
